package misc

import scala.annotation.tailrec
import scala.io.StdIn.readLine

object Pyramids {
  @tailrec
  def init(counter: Int, branchHeight: Int, startingPoint: List[Int], elements: Int, results: List[List[Char]]): List[List[Char]] = {
    @tailrec
    def loop(currentBranchHeight: Int, list: List[Char], result: List[List[Char]]): List[List[Char]] = {
      if(currentBranchHeight == 0) result
      else loop(
        currentBranchHeight - 1,
        list,
        list.indices.map(x => {
          if(startingPoint.contains(x) && currentBranchHeight * 2 > currentBranchHeight) '1'
          else if(startingPoint.contains(x - currentBranchHeight) || startingPoint.contains(x + currentBranchHeight)) '1'
          else '_'
        }).toList :: result)
    }

    if(counter > elements) results
    else init(
      counter + 1,
      branchHeight / 2,
      startingPoint.flatMap(x => List(x - (branchHeight / 2), x + (branchHeight / 2))),
      elements,
      loop(
        branchHeight,
        List.fill(100)('_'),
        List()) ++ results
    )
  }

  def main(args: Array[String]): Unit = {
    init(1, 32, List(49), readLine().toInt, List()).foreach(x => println(x.mkString))
  }
}

/*
    ________________________________111_____________________________111_________________________________
    _______________________________1_1_1___________________________1_1_1________________________________
    ______________________________1__1__1_________________________1__1__1_______________________________
    _____________________________1___1___1_______________________1___1___1______________________________
    ____________________________1____1____1_____________________1____1____1_____________________________
    ___________________________1_____1_____1___________________1_____1_____1____________________________
    __________________________1______1______1_________________1______1______1___________________________
    _________________________1_______1_______1_______________1_______1_______1__________________________
    ________________________1________1________1_____________1________1________1_________________________
    _______________________1_________1_________1___________1_________1_________1________________________
    ______________________1__________1__________1_________1__________1__________1_______________________
    _____________________1___________1___________1_______1___________1___________1______________________
    ____________________1____________1____________1_____1____________1____________1_____________________
    ___________________1_____________1_____________1___1_____________1_____________1____________________
    __________________1______________1______________1_1______________1______________1___________________
    _________________1_______________1_______________1_______________1_______________1__________________
    ________________________________________________111_________________________________________________
    _______________________________________________1_1_1________________________________________________
    ______________________________________________1__1__1_______________________________________________
    _____________________________________________1___1___1______________________________________________
    ____________________________________________1____1____1_____________________________________________
    ___________________________________________1_____1_____1____________________________________________
    __________________________________________1______1______1___________________________________________
    _________________________________________1_______1_______1__________________________________________
    ________________________________________1________1________1_________________________________________
    _______________________________________1_________1_________1________________________________________
    ______________________________________1__________1__________1_______________________________________
    _____________________________________1___________1___________1______________________________________
    ____________________________________1____________1____________1_____________________________________
    ___________________________________1_____________1_____________1____________________________________
    __________________________________1______________1______________1___________________________________
    _________________________________1_______________1_______________1__________________________________
    ________________________________1________________1________________1_________________________________
    _______________________________1_________________1_________________1________________________________
    ______________________________1__________________1__________________1_______________________________
    _____________________________1___________________1___________________1______________________________
    ____________________________1____________________1____________________1_____________________________
    ___________________________1_____________________1_____________________1____________________________
    __________________________1______________________1______________________1___________________________
    _________________________1_______________________1_______________________1__________________________
    ________________________1________________________1________________________1_________________________
    _______________________1_________________________1_________________________1________________________
    ______________________1__________________________1__________________________1_______________________
    _____________________1___________________________1___________________________1______________________
    ____________________1____________________________1____________________________1_____________________
    ___________________1_____________________________1_____________________________1____________________
    __________________1______________________________1______________________________1___________________
    _________________1_______________________________1_______________________________1__________________
 */

